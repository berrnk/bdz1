# **Финансовый учёт**

## **1. Основные функциональные возможности**

Данный проект представляет собой модуль для управления финансами, который включает следующие функции:

1. **Работа со счетами (BankAccount)**  
   - Добавление, редактирование и удаление счетов  
   - Автоматическое обновление баланса при выполнении операций доходов и расходов  

2. **Управление категориями (Category)**  
   - Создание, редактирование и удаление категорий транзакций (доходы/расходы)  

3. **Операции (Operation)**  
   - Добавление, редактирование и удаление операций  
   - Автоматическая корректировка баланса связанного счёта  

4. **Аналитика и статистика**  
   - Расчёт разницы между доходами и расходами за определённый период  
   - Группировка транзакций по категориям  

5. **Импорт и экспорт данных**  
   - Экспорт данных в форматы CSV, JSON, YAML (реализован с применением паттерна «Посетитель»)  
   - Импорт данных из CSV, JSON, YAML (используется паттерн «Шаблонный метод»)  

6. **Оценка производительности операций**  
   - Измерение времени выполнения ключевых действий (например, создания счёта) с использованием паттернов «Команда» и «Декоратор»  

7. **Консольный интерфейс**  
   - Позволяет работать с функционалом модуля через командную строку  

> **Дополнительные улучшения:**  
> - Внедрён механизм фабрики для стандартизированного создания доменных объектов с автоматической валидацией  
> - Структура кода разделена на уровни (Domain, Infrastructure, Application, Presentation), что делает архитектуру гибче и удобнее для расширения  
> - Пользователь может в любой момент выйти в главное меню или отменить ввод данных  

---

## **2. Принципы SOLID и GRASP**

### **2.1 SOLID**

1. **Принцип единственной ответственности (SRP)**  
   - Каждый класс выполняет одну конкретную задачу.  
   - `BankAccount` хранит данные о счёте, но не отвечает за экспорт/импорт.  
   - `FinancialFacade` управляет бизнес-операциями, не взаимодействуя напрямую с базой данных.  

2. **Принцип открытости/закрытости (OCP)**  
   - При добавлении нового формата импорта (например, XML) достаточно создать новый класс, унаследованный от `DataImporter`, не изменяя существующую логику.  

3. **Принцип подстановки Барбары Лисков (LSP)**  
   - Подклассы могут заменять базовые классы без нарушения логики.  
   - `CsvDataImporter`, `JsonDataImporter` и `YamlDataImporter` реализуют абстрактный класс `DataImporter` без изменения его контракта.  

4. **Принцип разделения интерфейсов (ISP)**  
   - Разделение интерфейсов по их конкретным задачам.  
   - `ICommand` содержит только метод `Execute()`, а `IExportVisitor` предоставляет методы `Visit(...)` для экспорта данных.  

5. **Принцип инверсии зависимостей (DIP)**  
   - Высокоуровневые модули зависят от абстракций, а не от конкретных реализаций.  
   - Импорт и экспорт выполняются через абстрактные классы (`DataImporter`, `IExportVisitor`), что позволяет легко расширять функционал.  

### **2.2 GRASP**

1. **Высокая связанность (High Cohesion)**  
   - Классы сгруппированы по смыслу: отдельно для управления операциями, импорта/экспорта, фабрики для создания объектов.  

2. **Слабая связанность (Low Coupling)**  
   - Компоненты взаимодействуют через абстракции, что снижает зависимость одного класса от другого.  

3. **Создатель (Creator)**  
   - `DomainFactory` управляет созданием объектов (`BankAccount`, `Category`, `Operation`) и валидацией входных данных.  

4. **Контроллер (Controller)**  
   - `FinancialFacade` управляет бизнес-логикой, предоставляя удобный интерфейс для взаимодействия с финансами.  

5. **Вспомогательный класс (Pure Fabrication)**  
   - `FinancialFacade` не является доменной сущностью, но упрощает работу с основными объектами системы.  

---

## **3. Используемые паттерны**

1. **Фабричный метод (Factory Method)**  
   - `DomainFactory` отвечает за централизованное создание объектов и их валидацию.  

2. **Фасад (Facade)**  
   - `FinancialFacade` объединяет основные функции управления финансами, упрощая взаимодействие с системой.  

3. **Команда (Command)**  
   - Каждая бизнес-операция представлена отдельной командой (`CreateAccountCommand` и др.), что делает код более гибким.  

4. **Декоратор (Decorator)**  
   - `TimeMeasuredCommandDecorator` позволяет добавлять замер времени выполнения команд без изменения их исходного кода.  

5. **Шаблонный метод (Template Method)**  
   - Абстрактный класс `DataImporter` содержит общую логику работы с файлами, а конкретные реализации (CSV, JSON, YAML) определяют детали парсинга.  

6. **Посетитель (Visitor)**  
   - `IExportVisitor` позволяет экспортировать данные в различные форматы без изменения логики доменных объектов.  

7. **Прокси (Proxy)**  
   - `DataContext` скрывает детали хранения данных, позволяя легко заменять in-memory реализацию на работу с базой данных.  

---

## **4. Инструкция по запуску**

### **1. Клонирование репозитория:**
```bash
git clone https://github.com/M1steryO/FinancialAccounting.git
```
### **2. Переход в папку проекта:**  
```bash
cd FinancialAccounting
```
### **3. Убедитесь, что у вас установлен .NET SDK (версия 6.0)**
### **4. Сборка проекта:**  
```bash
dotnet build
```
### **5. Запуск консольного приложения:**  
```bash
cd FinancialAccounting.ConsoleApp
dotnet run
```

После запуска появится консольный интерфейс, где можно управлять счетами, операциями, категориями, а также импортировать и экспортировать данные.

